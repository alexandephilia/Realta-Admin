<h4 class="mb-3 text-body mb-0">Career Categories</h4>
<div class="card">
    <div class="card-body">
        <div class="text-end mb-3">
            <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#createCategoryModal">
                <span class="fas fa-plus me-2"></span>Create New</button>
        </div>
        <div class="table-responsive">
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th class="text-center">Department</th>
                        <th class="text-center">Opportunity</th>
                        <th class="text-center">Position</th>
                        <th class="text-center">Location</th>
                        <th class="text-center">Status</th>
                        <th class="text-center">Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="text-center">Information Technology</td>
                        <td class="text-center">Full Time</td>
                        <td class="text-center">Software Engineer</td>
                        <td class="text-center">Jakarta</td>
                        <td class="text-center">
                            <span class="badge badge-phoenix fs-10 badge-phoenix-success">
                                <span class="fa fa-check"></span>
                            </span>
                        </td>
                        <td class="text-center">
                            <button class="btn btn-sm btn-falcon-default text-danger" data-bs-toggle="modal"
                                data-bs-target="#deleteCategoryModal">
                                <span class="fas fa-trash-alt"></span>
                            </button>
                            <button class="btn btn-sm btn-falcon-default text-warning" data-bs-toggle="modal"
                                data-bs-target="#editCategoryModal">
                                <span class="fas fa-edit me-2"></span>Edit
                            </button>
                        </td>
                    </tr>
                    <tr>
                        <td class="text-center">Research & Development</td>
                        <td class="text-center">Internship</td>
                        <td class="text-center">Business Analyst</td>
                        <td class="text-center">Bandung</td>
                        <td class="text-center">
                            <span class="badge badge-phoenix fs-10 badge-phoenix-success">
                                <span class="fa fa-check"></span>
                            </span>
                        </td>
                        <td class="text-center">
                            <button class="btn btn-sm btn-falcon-default text-danger" data-bs-toggle="modal"
                                data-bs-target="#deleteCategoryModal">
                                <span class="fas fa-trash-alt"></span>
                            </button>
                            <button class="btn btn-sm btn-falcon-default text-warning" data-bs-toggle="modal"
                                data-bs-target="#editCategoryModal">
                                <span class="fas fa-edit me-2"></span>Edit
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <nav aria-label="Page navigation">
            <ul class="pagination justify-content-center">
                <li class="page-item disabled">
                    <a class="page-link" href="#">Previous</a>
                </li>
                <li class="page-item active">
                    <a class="page-link" href="#">1</a>
                </li>
                <li class="page-item">
                    <a class="page-link" href="#">2</a>
                </li>
                <li class="page-item">
                    <a class="page-link" href="#">3</a>
                </li>
                <li class="page-item">
                    <a class="page-link" href="#">Next</a>
                </li>
            </ul>
        </nav>
    </div>
</div>

<!-- Create Category Modal -->
<div class="modal fade" id="createCategoryModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Create Category</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="createCategoryForm">
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label class="form-label" for="department">Department</label>
                            <select class="form-control" id="department" name="department" required>
                                <option value="">Select Department</option>
                                <option value="IT">Information Technology</option>
                                <option value="HR">Human Resources</option>
                                <option value="FIN">Finance & Accounting</option>
                                <option value="SALES">Sales & Marketing</option>
                                <option value="OPS">Operations</option>
                                <option value="RND">Research & Development</option>
                                <option value="PROJ">Project Management</option>
                                <option value="QA">Quality Assurance</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label" for="opportunity">Opportunity</label>
                            <select class="form-select" id="opportunity">
                                <option value="">Select Opportunity</option>
                                <option value="fulltime">Full Time</option>
                                <option value="internship">Internship</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label" for="position">Position</label>
                            <select class="form-control" id="position" name="position" required>
                                <option value="">Select Position</option>
                                <option value="SE">Software Engineer</option>
                                <option value="PM">Project Manager</option>
                                <option value="BA">Business Analyst</option>
                                <option value="QAE">QA Engineer</option>
                                <option value="UI">UI/UX Designer</option>
                                <option value="DBA">Database Administrator</option>
                                <option value="DEV">Developer</option>
                                <option value="SA">System Analyst</option>
                                <option value="NET">Network Engineer</option>
                                <option value="SEC">Security Specialist</option>
                                <option value="HR">HR Specialist</option>
                                <option value="ACC">Accountant</option>
                                <option value="MKT">Marketing Specialist</option>
                                <option value="SALES">Sales Executive</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label" for="location">Location</label>
                            <input class="form-control" id="location" type="text" placeholder="Enter location">
                        </div>
                        <div class="col-12 d-flex justify-content-end">
                            <div class="form-check form-switch me-4">
                                <input class="form-check-input" id="categoryStatus" type="checkbox" checked>
                                <label class="form-check-label" for="categoryStatus">
                                    Category Status
                                    <span class="ms-1 text-success status-text">Active</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline-primary" data-bs-dismiss="modal">Cancel</button>
                <button type="submit" form="createCategoryForm" class="btn btn-primary">Create Category</button>
            </div>
        </div>
    </div>
</div>

<!-- Edit Category Modal -->
<div class="modal fade" id="editCategoryModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Edit Category</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="editCategoryForm">
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label class="form-label" for="editDepartment">Department</label>
                            <select class="form-select" id="editDepartment">
                                <option value="">Select Department</option>
                                <option value="it">Information Technology</option>
                                <option value="hr">Human Resources</option>
                                <option value="marketing">Marketing</option>
                                <option value="finance">Finance</option>
                                <option value="operations">Operations</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label" for="editOpportunity">Opportunity</label>
                            <select class="form-select" id="editOpportunity">
                                <option value="">Select Opportunity</option>
                                <option value="fulltime">Full Time</option>
                                <option value="internship">Internship</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label" for="editPosition">Position</label>
                            <select class="form-select" id="editPosition">
                                <option value="">Select Position</option>
                                <option value="software-engineer">Software Engineer</option>
                                <option value="hr-manager">HR Manager</option>
                                <option value="marketing-specialist">Marketing Specialist</option>
                                <option value="finance-analyst">Finance Analyst</option>
                                <option value="operations-manager">Operations Manager</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label" for="editLocation">Location</label>
                            <input class="form-control" id="editLocation" type="text" placeholder="Enter location">
                        </div>
                        <div class="col-12 d-flex justify-content-end">
                            <div class="form-check form-switch me-4">
                                <input class="form-check-input" id="editCategoryStatus" type="checkbox" checked>
                                <label class="form-check-label" for="editCategoryStatus">
                                    Category Status
                                    <span class="ms-1 text-success status-text">Active</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline-primary" data-bs-dismiss="modal">Cancel</button>
                <button type="submit" form="editCategoryForm" class="btn btn-primary">Save Changes</button>
            </div>
        </div>
    </div>
</div>

<!-- Delete Category Modal -->
<div class="modal fade" id="deleteCategoryModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Attention</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">Are you sure you want to delete this category?</div>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline-primary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-danger">Yes</button>
            </div>
        </div>
    </div>
</div>

<!-- Add this script at the bottom of the file -->
<script>
    // Handle status toggle for both create and edit modals
    ['categoryStatus', 'editCategoryStatus'].forEach(id => {
        document.getElementById(id).addEventListener('change', function () {
            const statusText = this.parentElement.querySelector('.status-text');
            if (this.checked) {
                statusText.textContent = 'Active';
                statusText.classList.remove('text-danger');
                statusText.classList.add('text-success');
            } else {
                statusText.textContent = 'Inactive';
                statusText.classList.remove('text-success');
                statusText.classList.add('text-danger');
            }
        });
    });

    // Handle edit button clicks
    document.querySelectorAll('.btn-falcon-default.text-warning').forEach(button => {
        button.addEventListener('click', function () {
            // Get the table row
            const row = this.closest('tr');

            // Get data from the row
            const department = row.cells[0].textContent.trim();
            const opportunity = row.cells[1].textContent.trim();
            const position = row.cells[2].textContent.trim();
            const location = row.cells[3].textContent.trim();
            const isActive = row.cells[4].querySelector('.badge-phoenix-success') !== null;

            // Populate the edit modal
            // Map department text to value
            const departmentSelect = document.getElementById('editDepartment');
            const departmentMap = {
                'Information Technology': 'IT',
                'Human Resources': 'HR',
                'Finance & Accounting': 'FIN',
                'Sales & Marketing': 'SALES',
                'Operations': 'OPS',
                'Research & Development': 'RND',
                'Project Management': 'PROJ',
                'Quality Assurance': 'QA'
            };
            departmentSelect.value = departmentMap[department] || '';

            // Handle opportunity value mapping
            const opportunitySelect = document.getElementById('editOpportunity');
            if (opportunity === 'Full Time') {
                opportunitySelect.value = 'fulltime';
            } else if (opportunity === 'Internship') {
                opportunitySelect.value = 'internship';
            } else {
                opportunitySelect.value = '';
            }

            // Map position text to value
            const positionSelect = document.getElementById('editPosition');
            const positionMap = {
                'Software Engineer': 'SE',
                'Project Manager': 'PM',
                'Business Analyst': 'BA',
                'QA Engineer': 'QAE',
                'UI/UX Designer': 'UI',
                'Database Administrator': 'DBA',
                'Developer': 'DEV',
                'System Analyst': 'SA',
                'Network Engineer': 'NET',
                'Security Specialist': 'SEC',
                'HR Specialist': 'HR',
                'Accountant': 'ACC',
                'Marketing Specialist': 'MKT',
                'Sales Executive': 'SALES'
            };
            positionSelect.value = positionMap[position] || '';

            document.getElementById('editLocation').value = location;

            // Set the status switch and update its text
            const statusSwitch = document.getElementById('editCategoryStatus');
            const statusText = statusSwitch.parentElement.querySelector('.status-text');
            statusSwitch.checked = isActive;

            if (isActive) {
                statusText.textContent = 'Active';
                statusText.classList.remove('text-danger');
                statusText.classList.add('text-success');
            } else {
                statusText.textContent = 'Inactive';
                statusText.classList.remove('text-success');
                statusText.classList.add('text-danger');
            }
        });
    });
</script>